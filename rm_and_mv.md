[<- к содержанию](readme.md)

## Удаление и перемещение файлов

### Удаление файлов

Для того чтобы удалить файл из *Git*, вам необходимо удалить его из отслеживаемых файлов (точнее, удалить его из вашего индекса) а затем выполнить коммит. Это позволяет сделать команда `git rm`, которая также удаляет файл из вашего рабочего каталога, так что в следующий раз вы не увидите его как «неотслеживаемый».

Если вы просто удалите файл из своего рабочего каталога, он будет показан в секции **«Changes not staged for commit»** (измененные, но не проиндексированные) вывода команды `git status`.

Если вы изменили файл и уже проиндексировали его, вы должны использовать принудительное удаление с помощью параметра *-f*. Это сделано для повышения безопасности, чтобы предотвратить ошибочное удаление данных, которые ещё не были записаны в снимок состояния и которые нельзя восстановить из *Git*.

Другая полезная штука, которую вы можете захотеть сделать — это удалить файл из индекса, оставив его при этом в рабочем каталоге. Другими словами, вы можете захотеть оставить файл на жёстком диске, но перестать отслеживать изменения в нём. Это особенно полезно, если вы забыли добавить что-то в файл *.gitignore* и по ошибке проиндексировали, например, большой файл с логами, или кучу промежуточных файлов компиляции. Чтобы сделать это, используйте опцию *--cached*.

`git rm --cached README`

### Перемещение файлов

В отличие от многих других систем контроля версий, *Git* не отслеживает перемещение файлов явно. Когда вы переименовываете файл в *Git*, в нём не сохраняется никаких метаданных, говорящих о том, что файл был переименован. 

Таким образом, наличие в *Git* команды mv выглядит несколько странным. Если вам хочется переименовать файл в *Git*, вы можете сделать что-то вроде:

`git mv file_from file_to`

и это отлично сработает.

Однако, это эквивалентно выполнению следующих команд:

    mv README.md README
    git rm README.md
    git add README

*Git* неявно определяет, что произошло переименование, поэтому неважно, переименуете вы файл так или используя команду mv. Единственное отличие состоит лишь в том, что *mv* — одна команда вместо трёх — это функция для удобства. Важнее другое — вы можете использовать любой удобный способ для переименования файла, а затем воспользоваться командами *add* или *rm* перед коммитом.