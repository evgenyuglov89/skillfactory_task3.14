[<- к содержанию](readme.md)

## Операции отмены

В любой момент вам может потребоваться что-либо отменить. Будьте осторожны, не все операции отмены в свою очередь можно отменить! Это одна из редких областей *Git*, где неверными действиями можно необратимо удалить результаты своей работы.

Отмена может потребоваться, если вы сделали коммит слишком рано, например, забыв добавить какие-то файлы или комментарий к коммиту. Если вы хотите переделать коммит — внесите необходимые изменения, добавьте их в индекс и сделайте коммит ещё раз, указав параметр *--amend*:

`git commit --amend`

Эта команда использует область подготовки (индекс) для внесения правок в коммит. Если вы ничего не меняли с момента последнего коммита (например, команда запущена сразу после предыдущего коммита), то снимок состояния останется в точности таким же, а всё что вы сможете изменить — это ваше сообщение к коммиту.

Запустится тот же редактор, только он уже будет содержать сообщение предыдущего коммита. Вы можете редактировать сообщение как обычно, однако, оно заменит сообщение предыдущего коммита.

Например, если вы сделали коммит и поняли, что забыли проиндексировать изменения в файле, который хотели добавить в коммит, то можно сделать следующее:

    git commit -m 'Initial commit'
    git add forgotten_file
    git commit --amend
В итоге получится единый коммит — второй коммит заменит результаты первого.

Отмена индексации файла. Например, вы изменили два файла и хотите добавить их в разные коммиты, но случайно выполнили команду `git add *` и добавили в индекс оба. Как исключить из индекса один из них? Если вы наберете команду `git status`, прямо под текстом «Changes to be committed» будет указано что для исключения из индекса какого-либо файла нужно использовать команду 

`git reset HEAD <file>`​ 

Сместо *\<file>* нужно указать полное название файла, который нужно исключить из индекса. Например:

`git reset HEAD Test.md`​ 

Чтобы отменить все изменения в файле и вернуть его к тому состоянию, которое было в последнем коммите(или к начальному после клонирования), нужно набрать команду

`git checkout -- <file>`

Здесь так же нужно заменить *\<file>* на полное название файла.